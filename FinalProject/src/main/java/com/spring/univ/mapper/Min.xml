<?xml version="1.0" encoding="UTF-8"?>

<!-- ==== #29. mapper 기본설정 ==== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ==== #29. 루트 엘리먼트 & 네임스페이스 설정(프로젝트 전체내에서 유일해야 한다.) ==== -->
<mapper namespace="Min">
	  <resultMap type="HashMap" id="mapgetclassList">
      <result property="code"  column="code"  javaType="String"/>
      <result property="subject"  column="subject"  javaType="String"/>     
      <result property="hakjum"  column="hakjum"  javaType="String"/>
      <result property="classdate"  column="classdate"  javaType="String"/>
      <result property="fk_deptcode"  column="fk_deptcode"  javaType="String"/>
      <result property="week"  column="week"  javaType="String"/>
      <result property="startday"  column="startday"  javaType="String"/>
      <result property="lessonseq"  column="lesson"  javaType="String"/>
      <result property="lesson"  column="lesson"  javaType="String"/>
      <result property="video"  column="video"  javaType="String"/>
      <result property="savefile"  column="savefile"  javaType="String"/>
      <result property="uploadfile"  column="uploadfile"  javaType="String"/>
      <result property="fk_weekseq"  column="fk_weekseq"  javaType="String"/>
      <result property="fk_hakbun"  column="fk_hakbun"  javaType="String"/>
   </resultMap>
   <select id="getSubList" resultMap="mapgetclassList">
      select A.code, subject, hakjum, classdate, fk_deptcode, week, startday, lessonseq, lesson, video, savefile, uploadfile, fk_weekseq, D.fk_hakbun
	  from tbl_subject A join tbl_week B
	  on A.code = B.fk_code
	  join tbl_weeklesson C
	  on B.week = C.fk_weekseq
	  join tbl_attend D
	  on C.lesson = D.fk_lessonseq
   </select>
	
	
</mapper>